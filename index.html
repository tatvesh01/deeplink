<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Open App</title>
    <script>
      // === CONFIGURATION ===
      const androidPackage = "com.suuqa.app"; // ðŸ”¹ your Android app ID
      const iosAppId = "6748374899"; // ðŸ”¹ your iOS App Store ID
      const appScheme = "suuqa"; // ðŸ”¹ custom scheme (set in Flutter iOS + Android)
	  const deepLinkPath = "BottomBarScreen"; 
	  
	  const params = new URLSearchParams(window.location.search);
      const productId = params.get("product_id");

     const userAgent = navigator.userAgent || navigator.vendor || window.opera;
  const isAndroid = /android/i.test(userAgent);
  const isIOS = /iPad|iPhone|iPod/.test(userAgent) && !window.MSStream;
  const platform = navigator.platform.toLowerCase();
  const isMac = platform.includes('mac');
  const isWindows = platform.includes('win');
  
  const isMessenger = /FBAN|FBAV/i.test(userAgent); // FB Messenger app
  const isInstagram = /Instagram/i.test(userAgent);

  function openApp() {
      if (isAndroid) {
    // For Android: intent://HOST/PATH
    //window.location = `intent://open/${deepLinkPath}?product_id=${productId}#Intent;scheme=${appScheme};package=${androidPackage};S.browser_fallback_url=https://play.google.com/store/apps/details?id=${androidPackage};end`;
	
	
	if (isMessenger || isInstagram) {
    // Use web fallback
    window.location = `https://suuqa.app/fallback?product_id=${productId}`;
	} else {
	window.location = `intent://open/${deepLinkPath}?product_id=${productId}#Intent;scheme=${appScheme};package=${androidPackage};S.browser_fallback_url=https://play.google.com/store/apps/details?id=${androidPackage};end`;
	}
		
	
	
	
	
  } else if (isIOS) {
      
	  // For iOS: scheme://host/path
    //window.location = `${appScheme}://open/${deepLinkPath}`;
	window.location = `${appScheme}://${deepLinkPath}?product_id=${productId}`;
    setTimeout(() => {
      window.location = `https://apps.apple.com/app/id${iosAppId}`;
    }, 1000);
	
	
  } else if (isMac) {
      // Mac desktop â†’ open App Store link
      window.location = `https://apps.apple.com/app/id${iosAppId}`;
    } else if (isWindows) {
      // Windows desktop â†’ open Play Store link
      window.location = `https://play.google.com/store/apps/details?id=${androidPackage}`;
    } else {
      // fallback for other devices
      window.location = "http://suuqa.app/";
    }
  }

  window.onload = openApp;
    </script>
  </head>
  <body>
    <h3>Suuqa App will openâ€¦</h3>
  </body>
</html>
